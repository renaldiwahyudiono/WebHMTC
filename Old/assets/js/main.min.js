"use strict";!function(e,t,n){var o=(myPrefix,myPrefix,{enableActiveStateMobile:function(){t.addEventListener&&t.addEventListener("touchstart",function(){},!0)},WPViewportFix:function(){if("-ms-user-select"in t.documentElement.style&&navigator.userAgent.match(/IEMobile/)){var e=t.createElement("style"),n=t.createTextNode("@-ms-viewport{width:auto!important}");e.appendChild(n),t.head.appendChild(e)}},angular:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){angular.module("hmtc-app",["ngRoute","ngSanitize","slick"]).controller("mainController",["$rootScope","$scope","$http","$location",function(e,t,n,o){e.pageLoading=!0,e.pageError=!1,e.navPointer={onArticle:!1,onMedia:!1,onStory:!1},e.isHome=function(){return"/"===o.path()},e.navChanger=function(t,n,o){e.navPointer.onArticle=t,e.navPointer.onMedia=n,e.navPointer.onStory=o},e.getJSON=function(t){return new Promise(function(o,r){n.get(t).then(function(t){e.pageLoading=!1,o(t.data)}).catch(function(){e.pageLoading=!1,e.pageError=!0,r("error")})})}}]).controller("homeController",["$rootScope","$scope","$http","$location",function(n,o,r){o.video=t.querySelector(".hero-video"),o.scrollOffset=150,o.sectionPointer={onArticle:new Number,onMedia:new Number,onStory:new Number},o.scrollEventHandler=function(){var t=e.pageYOffset;o.video.style.transform="translateY("+.22*t+"px)",t>=o.sectionPointer.onMedia?n.navChanger(!1,!0,!1):t>=o.sectionPointer.onStory?n.navChanger(!1,!1,!0):t>=o.sectionPointer.onArticle?n.navChanger(!0,!1,!1):n.navChanger(!1,!1,!1),n.$digest()},o.scrollEvent=function(n){o.sectionPointer.onArticle=t.querySelector(".article-section").offsetTop-o.scrollOffset,o.sectionPointer.onMedia=t.querySelector(".media-section").offsetTop-o.scrollOffset,o.sectionPointer.onStory=t.querySelector(".story-section").offsetTop-o.scrollOffset,n?e.addEventListener("scroll",o.scrollEventHandler):e.removeEventListener("scroll",o.scrollEventHandler)},o.resetNav=function(){n.navChanger(!1,!1,!1)},o.init=function(){n.pageLoading=!1,setTimeout(function(){o.scrollEvent(1)},300)},o.$on("$destroy",function(){n.pageLoading=!0,o.scrollEvent(0)})}]).controller("articleController",["$rootScope","$scope","$http","$sce",function(t,n,o,r){n.article={},n.articleList={},n.articleLatest={},n.currentCategory="All Categories",n.pagination={totalPage:4,currentPage:1},n.initDetail=function(){t.navChanger(!0,!1,!1),t.getJSON("article-detail.json").then(function(e){n.article=Object.assign({},e),n.$digest()}),t.getJSON("article-latest.json").then(function(e){n.articleLatest=Object.assign({},e),n.$digest()}),e.scrollTo(0,0)},n.initList=function(){t.navChanger(!0,!1,!1),t.getJSON("article-list.json").then(function(e){n.articleList=Object.assign({},e),n.$digest()}),e.scrollTo(0,0)},n.initHome=function(){t.getJSON("article-latest.json").then(function(e){n.articleLatest=Object.assign({},e),n.$digest()}),t.getJSON("article-list.json").then(function(e){n.articleList=Object.assign({},e),n.$digest()})}}]).config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"home.php",controller:"homeController"}).when("/articles/:categoryId?",{templateUrl:"article-list.php",controller:"articleController"}).when("/media",{templateUrl:"media-list.php"}).when("/story",{templateUrl:"story.php"}).when("/article/:articleId",{templateUrl:"article-detail.php",controller:"articleController"}).otherwise({redirectTo:"/"})}]).directive("ngReady",["$parse",function(e){return{restrict:"A",link:function(t,n,o){n.ready(function(){t.$apply(function(){e(o.ngReady)(t)})})}}}])})});Promise.all([]).then(function(){for(var t in o)o[t]();e.Site=o})}(window,document);